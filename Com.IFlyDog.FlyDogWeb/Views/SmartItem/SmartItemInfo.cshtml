@using Com.IFlyDog.FlyDogWeb.Helper
<!DOCTYPE html>

<html>
<head>
    <meta charset="UTF-8">
    <title>报表项目管理</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="~/Styles/Public/base-1.0.css" rel="stylesheet" />
    <link href="~/lay_component/plugins/layui/css/layui.css" rel="stylesheet" media="all" />
    <link href="~/lay_component/css/global.css" rel="stylesheet" />
    <style>
        .store-a {
            color: indianred;
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="admin-main">
        <blockquote class="layui-elem-quote">
            <a href="javascript:;" class="layui-btn layui-btn-small btn-add">
                <i class="layui-icon"></i> 添加
            </a>
            <span class="layui-btn layui-btn-small btn-check-symptom">
                <i class="layui-icon"></i> 检测症状
            </span>
            <span class="layui-btn layui-btn-small btn-check-charge">
                <i class="layui-icon"></i> 检测项目
            </span>
        </blockquote>
        <fieldset class="layui-elem-field">
            <legend>报表项目管理</legend>
            <div class="layui-field-box">
                <table class="site-table table-hover">
                    <thead>
                        <tr>
                            <th>名称</th>
                            <th>组名称</th>
                            <th>排序号</th>
                            <th>描述</th>
                            <th>操作</th>
                        </tr>
                    </thead>
                    <tbody class="smartItem-table"></tbody>
                </table>
            </div>
        </fieldset>
        <div class="page-pop">
            <div class="smartItem-pop hide">
                <fieldset class="layui-elem-field layui-field-title">
                    <legend>报表项目</legend>
                </fieldset>
                <form class="smartItem-form"></form>
                <div class="layui-input-block m-bt-10">
                    <label class="layui-form-label">报表症状</label>
                    <div class="layui-input-inline">
                        <table class="site-table table-hover">
                            <thead>
                                <tr>
                                    <td>名称</td>
                                    <td>操作</td>
                                </tr>
                            </thead>
                            <tbody class="symptom-table"></tbody>
                        </table>
                    </div>
                    <div class="layui-input-inline">
                        <span class="layui-btn layui-btn-small add-symptom fr">添加</span>
                    </div>
                </div>
                <div class="layui-input-block m-bt-10">
                    <label class="layui-form-label">报表项目</label>
                    <div class="layui-input-inline">
                        <table class="site-table table-hover">
                            <thead>
                                <tr>
                                    <td>名称</td>
                                    <td>操作</td>
                                </tr>
                            </thead>
                            <tbody class="charge-table"></tbody>
                        </table>
                    </div>
                    <div class="layui-input-inline">
                        <span class="layui-btn layui-btn-small add-charge fr">添加</span>
                    </div>
                </div>
                <div class="m-20 clearfix">
                    <span class="layui-btn smartItem btn-submit fr">确认</span><span class="layui-btn layui-btn-danger close-layer m-lr-10 fr">取消关闭</span>
                </div>
            </div>
            <div class="symptom-pop hide">
                <fieldset class="layui-elem-field layui-field-title">
                    <legend>报表项目信息</legend>
                </fieldset>
                <div class="clearfix m-20">
                    <table class="site-table table-hover">
                        <thead>
                            <tr>
                                <th>选择</th>
                                <th>名称</th>
                            </tr>
                        </thead>
                        <tbody class="symptom-pop-table"></tbody>
                    </table>
                </div>
                <div class="m-20 clearfix">
                    <span class="layui-btn symptom btn-submit fr">确认</span><span class="layui-btn layui-btn-danger close-layer m-lr-10 fr">取消关闭</span>
                </div>
            </div>
            <!-- 项目弹窗 -->
            <div class="charge-pop hide">
                <div class="layui-form m-10 clearfix">
                    <form class="m-20">
                        <div class="fl" style="margin-left:-35px;">
                            <label class="layui-form-label" style="width:70px;">拼音码</label>
                            <div class="layui-input-inline">
                                <input class="layui-input" name="smartProductPinYin" placeholder="请输入拼音码">
                            </div>
                        </div>
                        <div class="fl">
                            <label class="layui-form-label" style="width:70px;">名称</label>
                            <div class="layui-input-inline">
                                <input class="layui-input" name="smartProductNmae" placeholder="请输入名称">
                            </div>
                        </div>
                        <span class="layui-btn search-btn fr charge">查询</span>
                    </form>
                </div>
                <div class="m-20">
                    <table class="site-table table-hover">
                        <thead>
                            <tr>
                                <td>选择</td>
                                <th>项目名称</th>
                                <th>拼音码</th>
                                <th>类型</th>
                                <th>规格</th>
                            </tr>
                        </thead>
                        <tbody class="charge-pop-table"></tbody>
                    </table>
                </div>
                <div class="m-20 clearfix">
                    <span class="layui-btn charge btn-submit fr">确认</span><span class="layui-btn layui-btn-danger close-layer m-lr-10 fr">取消关闭</span>
                </div>
            </div>
            <!-- 项目弹窗 End -->
            <div class="symptom-check-pop hide">
                <fieldset class="layui-elem-field layui-field-title">
                    <legend>报表症状检测</legend>
                </fieldset>
                <div class="clearfix m-20">
                    <input type="hidden" name="StoreUserID" />
                    <table class="site-table table-hover">
                        <thead>
                            <tr>
                                <th>名称</th>
                                <th>状态</th>
                                <th>报表项目名称</th>
                                <th>配置状态</th>
                            </tr>
                        </thead>
                        <tbody class="symptom-check-table"></tbody>
                    </table>
                </div>
            </div>
            <!-- 项目弹窗 End -->
            <div class="charge-check-pop hide">
                <fieldset class="layui-elem-field layui-field-title">
                    <legend>报表项目检测</legend>
                </fieldset>
                <div class="clearfix m-20">
                    <input type="hidden" name="StoreUserID" />
                    <table class="site-table table-hover">
                        <thead>
                            <tr>
                                <th>名称</th>
                                <th>状态</th>
                                <th>报表项目名称</th>
                                <th>配置状态</th>
                            </tr>
                        </thead>
                        <tbody class="charge-check-table"></tbody>
                    </table>
                    <div id="pageDiv"></div>
                </div>
            </div>
        </div>
        <div class="dot-tmp">
            <!-- 报表项目表格 -->
            <script class="smartItem-tmp" type="text/x-dot-template">
                {{ for(var item in it){ }}
                <tr data-id="{{= it[item].ID }}">
                    <td>{{= it[item].Name }}</td>
                    <td>{{= it[item].GrpupName }}</td>
                    <td>{{= it[item].SortNo }}</td>
                    <td>{{= it[item].Remark }}</td>
                    <td>
                        <span class="layui-btn layui-btn-small btn-edit" data-id="{{= it[item].ID }}">编辑</span>
                        <span class="layui-btn layui-btn-small smartItem btn-remove" data-id="{{= it[item].ID }}">删除</span>
                    </td>
                </tr>
                {{ } }}
            </script>
            <!-- 报表项目表格 -->
            <script class="smartItem-form-tmp" type="text/x-dot-template">
                <div class="layui-input-block m-bt-10">
                    <label class="layui-form-label">名称</label>
                    <div class="layui-input-inline">
                        <input type="hidden" name="ID" value="{{= it.ID }}" />
                        <input class="layui-input" name="Name" placeholder="请输入名称" value="{{= it.Name }}" />
                    </div>
                </div>
                <div class="layui-input-block m-bt-10 layui-form">
                    <label class="layui-form-label">项目组</label>
                    <div class="layui-input-inline" style="width:163px;">
                        @Html.SelectCategoryByHospital(Com.IFlyDog.CommonDTO.SelectType.ItemGroup, "GroupID", "GroupID")
                    </div>
                </div>
                <div class="layui-input-block m-bt-10">
                    <label class="layui-form-label">序号</label>
                    <div class="layui-input-inline">
                        <input class="layui-input" name="SortNo" placeholder="请输入序号" value="{{= it.SortNo }}" />
                    </div>
                </div>
                <div class="layui-input-block m-bt-10">
                    <label class="layui-form-label">备注</label>
                    <div class="layui-input-inline">
                        <textarea class="layui-textarea" name="Remark" placeholder="请输入备注">{{= it.Remark }}</textarea>
                    </div>
                </div>
            </script>
            <!-- 添加弹窗症状表格 -->
            <script class="symptom-tmp" type="text/x-dot-template">
                {{ Symptoms = it.SymptomDetailInfoAdd; }}
                {{ for(var item in Symptoms){ }}
                <tr symptomid="{{= Symptoms[item].ID }}">
                    <td>{{= Symptoms[item].Name }}</td>
                    <td><span class="layui-btn layui-btn-mini btn-remove">删除</span></td>
                </tr>
                {{ } }}
            </script>
            <!-- 添加弹窗收费项目表格 -->
            <script class="charge-tmp" type="text/x-dot-template">
                {{ Charges = it.ChargeDetailInfoAdd; }}
                {{ for(var item in Charges){ }}
                <tr chargeid="{{= Charges[item].ID }}">
                    <td>{{= Charges[item].Name }}</td>
                    <td><span class="layui-btn layui-btn-mini btn-remove">删除</span></td>
                </tr>
                {{ } }}
            </script>
            <!-- 选择症状表格 -->
            <script class="symptom-pop-tmp" type="text/x-dot-template">
                {{ for(var item in it){ }}
                <tr symptomid="{{= it[item].ID }}">
                    <td><input type="checkbox" value="{{= it[item].ID }}" data-name="{{= it[item].Name }}" title="选择" /></td>
                    <td>{{= it[item].Name }}</td>
                </tr>
                {{ } }}
            </script>
            <!-- 收费项目表格 -->
            <script class="charge-pop-tmp" type="text/x-dot-template">
                {{ for(var item in it){ }}
                <tr chargeId="{{= it[item].ID }}">
                    <td><input type="checkbox" value="{{= it[item].ID }}" title="{{= it[item].Name }}" data-name="{{= it[item].Name }}" /></td>
                    <td>{{= it[item].Name }}</td>
                    <td>{{= it[item].PinYin }}</td>
                    <td>{{= it[item].CategoryName }}</td>
                    <td>{{= it[item].Size }}</td>
                </tr>
                {{ } }}
            </script>
            <!-- 检测症状表格 -->
            <script class="symptom-check-tmp" type="text/x-dot-template">
                {{ for(var item in it){ }}
                <tr>
                    <td>{{= it[item].SymptonName }}</td>
                    <td>{{= it[item].Status == 0 ? "停用" : "使用" }}</td>
                    <td>{{= it[item].ItemName }}</td>
                    <td>{{= it[item].ItemName == "" ? "未配置" : "已配置" }}</td>
                </tr>
                {{ } }}
            </script>
            <!-- 检测收费项目表格 -->
            <script class="charge-check-tmp" type="text/x-dot-template">
                {{ for(var item in it){ }}
                <tr>
                    <td>{{= it[item].ChargeName }}</td>
                    <td>{{= it[item].Status == 0 ? "停用" : "使用" }}</td>
                    <td>{{= it[item].ChargeItemName }}</td>
                    <td>{{= it[item].ChargeItemName == "" ? "未配置" : "已配置" }}</td>
                </tr>
                {{ } }}
            </script>
        </div>
    </div>
    <script src="~/lay_component/js/jquery-2.0.3.min.js"></script>
    <script src="~/lay_component/js/hcommon.js"></script>
    <script src="~/Scripts/FlyDog.Common.js"></script>
    <script src="~/doT-master/doT-master/doT.min.js"></script>
    <script src="~/lay_component/plugins/layui/layui.js"></script>
    <script src="~/lay_component/sampleJs/SmartItem.js"></script>
</body>
</html>
